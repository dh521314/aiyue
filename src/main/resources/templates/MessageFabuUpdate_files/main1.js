function replaceTagAHrefDomain(){k("a").forEach(function(o){decodeURIComponent(o.href).indexOf("{{")<0&&(o.href=o.href.replace(/(www|author|pay|user)\.17k\.com/,"$1."+k.domain))})}k.platform="17k.com"===k.domain?"pc":"pc_"+k.domain.replace(/^(\w+).*/,"$1"),k.userMessage=function(o){k.require("//static."+k.domain+"/www/js/mod/userMessage.js")(o)},k.pcComment=function(o){return k.require("//static."+k.domain+"/www/js/mod/pcComment.js")(o)},k.voteRank=function(o,e){return k.require("//static."+k.domain+"/www/js/mod/voteRank.js")(o,e)},k.reward=function(o,e){k.require("//static."+k.domain+"/www/js/mod/reward.js","reward")(o,e)},k.login=function(o,e){if(k.isLogin())k.getUserInfo(o);else{if("17k.com"!==k.domain)return void(location.pathname.indexOf("/passport")===-1?location.replace("//www."+k.domain+"/passport?fromUrl="+encodeURI(location.href)):location.replace("//www."+k.domain+"/passport"));var a=!1,n="17k.com"===k.domain?"//passport.17k.com/login":"//www."+k.domain+"/passport",t=460;switch(k.getType(o)){case"function":k.loginCallbacks.push(o);break;case"string":"register"===o?(n="17k.com"===k.domain?"//passport.17k.com/register":"//www."+k.domain+"/register",t=600):"password"===o&&(n="17k.com"===k.domain?"//passport.17k.com/password":"//www."+k.domain+"/password"),a=!0;break;default:a=!0}document.domain=k.domain;var i=k("<iframe>").add({frameborder:0,width:500,height:t});i.item(0).src=n,i.item(0).onlogined=function(o){if(r.close(),a)top.location.reload();else for(;k.loginCallbacks[0];)k.loginCallbacks.shift()(o)&&top.location.reload()};var r=k.layout({html:i.item(0),bgColor:"rgba(0,0,0,.9)",hiddenClose:e===undefined?location.hostname.match(/^(author|user)\./):!!e})}},k.tab=function(o,e,a,n,t){if("function"===k.getType(e)){var i=e;e=[],k.forEach(o,function(){e.push(i)})}a=a||"onmouseover",n=n||0,k.forEach(o,function(i,r){"html"===k.getType(e[r])&&(e[r].style.display="none"),i.setAttribute("rel",r),i.className="",i[a]=function(){o[n].className="",this.className="now";var a=this.getAttribute("rel");"function"===k.getType(e[a])?e[a](a):(e[n].style.display="none",e[a].style.display="block"),n=a,t&&t(r)}}),"function"===k.getType(e[n])?e[n](n):e[n].style.display="block",o[n].className="now"},k.initShare=function(o){o.className+=" bdsharebuttonbox",o.innerHTML='<a class="bds_more" href="#" data-cmd="more">分享...</a>',window.a={common:{bdSnsKey:{},bdText:"",bdMini:"2",bdMiniList:!1,bdPic:"",bdStyle:"1",bdSize:"16"},share:{}},k.loadJs("//static."+k.domain+"/lib/baidu/share.js")},function(){if(window.ontouchstart!==undefined&&window.screen.width<640&&document.cookie.indexOf("pf=pc")===-1)if(location.search.indexOf("pf=pc")===-1){if("Win32"===navigator.platform||navigator.userAgent.toLowerCase().indexOf("ipad")>-1)return;var o=document.getElementsByName("mobile-agent")[0];o&&(o=o.content.match(/^format=html5;url=(.+)$/))&&(location.href=o[1]+location.search)}else document.cookie="pf=pc;domain="+k.domain+";path=/";"http:"===location.protocol&&location.replace(location.href.replace("http://","https://"))}(),"17k.com"!==k.domain&&(replaceTagAHrefDomain(),setInterval(replaceTagAHrefDomain,1e3));